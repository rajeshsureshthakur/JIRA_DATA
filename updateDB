public boolean updateJiraDetails(String key, 
                                 String newSummary, String originalSummary,
                                 String newStatus, String originalStatus,
                                 String newTimeSpent, String originalTimeSpent) {
    StringBuilder sql = new StringBuilder("UPDATE jiratable SET ");
    List<String> updateFields = new ArrayList<>();
    List<Object> params = new ArrayList<>();

    // Summary
    if (!Objects.equals(newSummary, originalSummary)) {
        updateFields.add("summary = ?");
        params.add(newSummary);
    }

    // Status
    if (!Objects.equals(newStatus, originalStatus)) {
        updateFields.add("status = ?");
        params.add(newStatus);
    }

    // Time Spent
    if (!Objects.equals(newTimeSpent, originalTimeSpent)) {
        try {
            double timeValue = Double.parseDouble(newTimeSpent.trim());
            updateFields.add("time_spent = ?");
            params.add(timeValue);
        } catch (NumberFormatException e) {
            System.err.println("Invalid time_spent format. Skipping DB update.");
            return false;
        }
    }

    // No fields changed
    if (updateFields.isEmpty()) {
        return false;
    }

    // Build SQL
    sql.append(String.join(", ", updateFields));
    sql.append(" WHERE key = ?");
    params.add(key); // last param is for WHERE clause

    // DB Execution
    try (Connection conn = getConnection();
         PreparedStatement stmt = conn.prepareStatement(sql.toString())) {

        for (int i = 0; i < params.size(); i++) {
            stmt.setObject(i + 1, params.get(i));
        }

        int updated = stmt.executeUpdate();
        return updated > 0;

    } catch (SQLException e) {
        e.printStackTrace();
        return false;
    }
}
